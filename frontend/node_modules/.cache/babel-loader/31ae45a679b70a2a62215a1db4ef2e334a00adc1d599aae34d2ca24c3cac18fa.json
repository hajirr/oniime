{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Development/Project/python/oniime/frontend/src/pages/SearchAnimePage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\nimport { postSearchAnime } from \"../sources/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchAnimePage = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchResult, setSearchResult] = useState([]);\n  const formData = new FormData();\n  const skeletonList = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n  const navigate = useNavigate();\n  const {\n    pathname\n  } = window.location;\n  const arrayPath = pathname.split(\"/\");\n  const animeQuery = arrayPath[arrayPath.length - 1];\n  const handleClickDetail = url => {\n    const arrayPath = url.split(\"/\");\n    const anime = `/${arrayPath[arrayPath.length - 2]}/`;\n    navigate(anime);\n  };\n  useEffect(() => {\n    setIsLoading(true);\n    const query = animeQuery.split(\"%20\").join(\"+\");\n    formData.append(\"query\", query);\n    postSearchAnime(formData).then(response => {\n      setSearchResult(response.data.response);\n      setIsLoading(false);\n    }).catch(error => {\n      console.log(error);\n      setIsLoading(false);\n    });\n  }, [pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-screen min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      search: \"anime\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lg:mx-72 p-4 shadow-lg rounded-lg  \",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold text-lg mb-4\",\n        children: \"Search Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-4 my-4 w-full\",\n        children: skeletonList.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-pulse h-32 w-24 bg-gray-400 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-pulse h-3 w-24 bg-gray-400 rounded mt-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-pulse h-3 w-24 bg-gray-400 rounded mt-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this)]\n          }, item, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4 justify-around w-full\",\n        children: searchResult.map(anime => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cursor-pointer\",\n            onClick: () => handleClickDetail(anime.url),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: anime.image,\n              alt: \"episode\",\n              className: \"w-24\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-xs w-24 text-center\",\n              children: anime.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this)]\n          }, anime.url, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchAnimePage, \"pPRJk5KPhkhnfxEx/twrMeT3PhU=\", false, function () {\n  return [useNavigate];\n});\n_c = SearchAnimePage;\nexport default SearchAnimePage;\nvar _c;\n$RefreshReg$(_c, \"SearchAnimePage\");","map":{"version":3,"names":["useEffect","useState","useNavigate","Navbar","postSearchAnime","SearchAnimePage","isLoading","setIsLoading","searchResult","setSearchResult","formData","FormData","skeletonList","navigate","pathname","window","location","arrayPath","split","animeQuery","length","handleClickDetail","url","anime","query","join","append","then","response","data","catch","error","console","log","map","item","image","title"],"sources":["/Users/mac/Development/Project/python/oniime/frontend/src/pages/SearchAnimePage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../components/Navbar\";\nimport { postSearchAnime } from \"../sources/api\";\n\nconst SearchAnimePage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchResult, setSearchResult] = useState([]);\n  const formData = new FormData();\n  const skeletonList = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n  const navigate = useNavigate();\n\n  const { pathname } = window.location;\n  const arrayPath = pathname.split(\"/\");\n  const animeQuery = arrayPath[arrayPath.length - 1];\n\n  const handleClickDetail = (url) => {\n    const arrayPath = url.split(\"/\");\n    const anime = `/${arrayPath[arrayPath.length - 2]}/`;\n    navigate(anime);\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    const query = animeQuery.split(\"%20\").join(\"+\");\n    formData.append(\"query\", query);\n    postSearchAnime(formData)\n      .then((response) => {\n        setSearchResult(response.data.response);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        console.log(error);\n        setIsLoading(false);\n      });\n  }, [pathname]);\n\n  return (\n    <div className=\"w-screen min-h-screen\">\n      <Navbar search=\"anime\" />\n      <div className=\"lg:mx-72 p-4 shadow-lg rounded-lg  \">\n        <p className=\"font-bold text-lg mb-4\">Search Result</p>\n        {isLoading && (\n          <div className=\"grid grid-cols-4 gap-4 my-4 w-full\">\n            {skeletonList.map((item) => {\n              return (\n                <div className=\"\" key={item}>\n                  <div className=\"animate-pulse h-32 w-24 bg-gray-400 rounded\"></div>\n                  <div className=\"animate-pulse h-3 w-24 bg-gray-400 rounded mt-2\"></div>\n                  <div className=\"animate-pulse h-3 w-24 bg-gray-400 rounded mt-2\"></div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n        {!isLoading && (\n          <div className=\"flex flex-wrap gap-4 justify-around w-full\">\n            {searchResult.map((anime) => {\n              return (\n                <div\n                  key={anime.url}\n                  className=\"cursor-pointer\"\n                  onClick={() => handleClickDetail(anime.url)}\n                >\n                  <img src={anime.image} alt=\"episode\" className=\"w-24\" />\n                  <p className=\"font-bold text-xs w-24 text-center\">\n                    {anime.title}\n                  </p>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchAnimePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}